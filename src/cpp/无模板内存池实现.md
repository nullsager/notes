```cpp
#include <bits/stdc++.h>

using namespace std;

class Student {
 public:
  Student(string name, const int age) : m_name(std::move(name)), m_age(age) {}
  ~Student() { cout << "~Student\n"; }
  string m_name;
  int m_age;
};
class MemoryPool {
 public:
  MemoryPool(const size_t objSize, const size_t totalSize) : m_objSize(objSize), m_totalSize(totalSize) {
    m_pool = static_cast<char*>(malloc(m_objSize * m_totalSize));
    if (m_pool == nullptr) {
      throw bad_alloc();
    }
    for (size_t i = 0; i < m_totalSize; i++) {
      m_freeList.push(m_pool + i * m_objSize);
    }
  }
  ~MemoryPool() { free(m_pool); }
  void* allocate() {
    if (m_freeList.empty()) {
      throw bad_alloc();
    }
    void* p = m_freeList.top();
    m_freeList.pop();
    return p;
  }
  void deallocate(void* ptr) { m_freeList.push(ptr); }

 private:
  size_t m_objSize;    // 每个对象的大小
  size_t m_totalSize;  // 对象个数
  char* m_pool;
  stack<void*> m_freeList;
};
int main() {
  try {
    MemoryPool pool(sizeof(Student), 3);
    void* mem1 = pool.allocate();
    void* mem2 = pool.allocate();
    const auto obj1 = new (mem1) Student("Tom", 20);  // auto 类型为Student*
    const auto obj2 = new (mem2) Student("Zack", 35);
    cout << obj1->m_name << ' ' << obj1->m_age << '\n';
    cout << obj2->m_name << ' ' << obj2->m_age << '\n';
    obj1->~Student();
    obj2->~Student();
    pool.deallocate(mem1);
    pool.deallocate(mem2);
  } catch (const bad_alloc& e) {
    cerr << "Memory allocation error: " << e.what() << '\n';
    return 1;
  }
}
```
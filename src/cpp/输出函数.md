<!--toc:start-->
- [**fprintf**：输出到文件流](#fprintf输出到文件流)
- [**snprintf**：安全的字符串输出](#snprintf安全的字符串输出)
- [**dprintf**：输出到文件描述符](#dprintf输出到文件描述符)
- [通用格式说明符](#通用格式说明符)
- [综合示例](#综合示例)
<!--toc:end-->
### **fprintf**：输出到文件流

**原型**：`int fprintf(FILE *stream, const char *format, ...);`  
**作用**：将输出写入**指定文件流**（如文件、标准错误）。  
**示例**：

```c
FILE *file = fopen("output.txt", "w");
if (file) {
    fprintf(file, "写入文件的内容: %d\n", 100); // 写入文件
    fprintf(stderr, "错误信息!\n"); // 输出到标准错误(stderr)
    fclose(file);
}
```

---

### **snprintf**：安全的字符串输出

**原型**：`int snprintf(char *str, size_t size, const char *format, ...);`  
**作用**：将格式化字符串写入**字符数组**（内存）。
**示例**：

```c
char buf[5];
int len = snprintf(buf, sizeof(buf), "123456");
printf("%s\n", buf);   // 输出：1234（截断）
printf("实际长度: %d\n", len); // 实际长度=6（不含'\0'）
```

---

### **dprintf**：输出到文件描述符

**原型**：`int dprintf(int fd, const char *format, ...);`  
**作用**：将输出写入**文件描述符**（如用`open`打开的文件）。  
**示例**：

```c
#include <fcntl.h>
int fd = open("log.txt", O_WRONLY | O_CREAT, 0644);
dprintf(fd, "文件描述符写入: %s\n", "Hello");
close(fd);
```

---

### 通用格式说明符

| 符号     | 含义       | 示例          |
| ------ | -------- | ----------- |
| `%d`   | 十进制整数    | `-123`      |
| `%u`   | 无符号十进制   | `456`       |
| `%x`   | 十六进制（小写） | `1a`        |
| `%X`   | 十六进制（大写） | `1A`        |
| `%f`   | 浮点数      | `3.140000`  |
| `%.2f` | 保留2位小数   | `3.14`      |
| `%c`   | 单个字符     | `'A'`       |
| `%s`   | 字符串      | `"abc"`     |
| `%p`   | 指针地址     | `0x7ffd...` |
| `%%`   | 输出`%`本身  | `%`         |

**格式化选项**：

- **宽度与精度**：`%10s`（10字符宽），`%.5s`（最多5字符）
- **对齐填充**：`%-6d`（左对齐），`%06d`（用0填充）

---

### 综合示例

```c
#include <stdio.h>
#include <fcntl.h>

int main() {
    // 标准输出
    printf("PI: %.2f\n", 3.14159); 

    // 文件输出
    FILE *fp = fopen("test.txt", "w");
    fprintf(fp, "写入文件\n");
    fclose(fp);

    // 安全字符串输出
    char buf[20];
    snprintf(buf, sizeof(buf), "数字: %d", 1000); 
    printf("%s\n", buf); // 输出: 数字: 1000

    // 文件描述符输出
    int fd = open("log.txt", O_WRONLY | O_CREAT, 0644);
    dprintf(fd, "日志: %s\n", "系统启动");
    close(fd);
    
    return 0;
}
```

